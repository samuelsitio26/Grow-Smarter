<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SoilSense</title>
    <link
      rel="icon"
      href="{{ url_for('static', filename='assets/icons/2719867.png') }}"
      type="image/x-icon"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body
    class="bg-cover bg-center bg-[url('/static/assets/images/background.png')] bg-cover bg-top mx-auto px-4 sm:px-8"
  >
    <div
      id="backButton"
      class="fixed top-12 left-4 sm:left-12 z-50 transition-opacity duration-300"
    >
      <a href="/" title="Back to Home">
        <span class="sr-only">Back to Home</span>
        <svg
          class="w-8 h-8 sm:w-10 sm:h-10"
          viewBox="0 0 48 48"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M24 3C12.4062 3 3 12.4062 3 24C3 35.5938 12.4062 45 24 45C35.5938 45 45 35.5938 45 24C45 12.4062 35.5938 3 24 3Z"
            stroke="white"
            stroke-width="4"
            stroke-miterlimit="10"
          />
          <path
            d="M28 32L20 24L28 16"
            stroke="white"
            stroke-width="4"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </a>
    </div>


    <div
      id="infoButton"
      class="fixed top-12 right-4 sm:right-12 z-50 transition-opacity duration-300"
    >
      <button id="openInfoPopup" aria-label="Information" title="Information">
        <svg
          class="w-9 h-9 sm:w-11 sm:h-11"
          viewBox="0 0 55 55"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M27.5 38.9584C28.1493 38.9584 28.694 38.7384 29.134 38.2984C29.574 37.8584 29.7932 37.3145 29.7917 36.6667V27.5C29.7917 26.8507 29.5717 26.3068 29.1317 25.8684C28.6917 25.4299 28.1478 25.2099 27.5 25.2084C26.8523 25.2068 26.3084 25.4268 25.8684 25.8684C25.4284 26.3099 25.2084 26.8538 25.2084 27.5V36.6667C25.2084 37.316 25.4284 37.8607 25.8684 38.3007C26.3084 38.7407 26.8523 38.9599 27.5 38.9584ZM27.5 20.625C28.1493 20.625 28.694 20.405 29.134 19.965C29.574 19.525 29.7932 18.9812 29.7917 18.3334C29.7902 17.6856 29.5702 17.1417 29.1317 16.7017C28.6932 16.2617 28.1493 16.0417 27.5 16.0417C26.8507 16.0417 26.3068 16.2617 25.8684 16.7017C25.4299 17.1417 25.2099 17.6856 25.2084 18.3334C25.2068 18.9812 25.4268 19.5258 25.8684 19.9673C26.3099 20.4089 26.8538 20.6281 27.5 20.625ZM27.5 50.4167C24.3299 50.4167 21.3507 49.8148 18.5625 48.6109C15.7743 47.407 13.349 45.7746 11.2865 43.7136C9.224 41.6526 7.59157 39.2273 6.38921 36.4375C5.18685 33.6478 4.5849 30.6687 4.58338 27.5C4.58185 24.3314 5.18379 21.3523 6.38921 18.5625C7.59463 15.7728 9.22706 13.3475 11.2865 11.2865C13.3459 9.22553 15.7713 7.5931 18.5625 6.38921C21.3538 5.18532 24.333 4.58337 27.5 4.58337C30.6671 4.58337 33.6463 5.18532 36.4375 6.38921C39.2288 7.5931 41.6541 9.22553 43.7136 11.2865C45.773 13.3475 47.4062 15.7728 48.6132 18.5625C49.8201 21.3523 50.4213 24.3314 50.4167 27.5C50.4121 30.6687 49.8102 33.6478 48.6109 36.4375C47.4116 39.2273 45.7791 41.6526 43.7136 43.7136C41.648 45.7746 39.2227 47.4077 36.4375 48.6132C33.6524 49.8186 30.6732 50.4198 27.5 50.4167ZM27.5 45.8334C32.6181 45.8334 36.9532 44.0573 40.5052 40.5052C44.0573 36.9532 45.8334 32.6181 45.8334 27.5C45.8334 22.382 44.0573 18.0469 40.5052 14.4948C36.9532 10.9427 32.6181 9.16671 27.5 9.16671C22.382 9.16671 18.0469 10.9427 14.4948 14.4948C10.9428 18.0469 9.16671 22.382 9.16671 27.5C9.16671 32.6181 10.9428 36.9532 14.4948 40.5052C18.0469 44.0573 22.382 45.8334 27.5 45.8334Z"
            fill="white"
          />
        </svg>
      </button>
    </div>

    <section
      id="input"
      class="flex items-center justify-center min-h-screen flex-col mb-10"
    >
      <div
        class="bg-white/5 backdrop-blur-md border border-white/50 sm:p-10 p-4 rounded-3xl shadow-xl w-full max-w-3xl"
      >
        <h1 class="text-white text-3xl font-bold text-center">
          Input the Samples Data
        </h1>
        <p class="text-white text-center text-sm mt-2 mb-12">
          *If your data is decimal, use a dot (.)<br />
        </p>
        <form
          id="cropForm"
          class="grid grid-cols-1 md:grid-cols-2 gap-y-4 gap-x-8 text-white"
        >
          <div>
            <label for="temperature" class="block mb-1 font-medium"
              >Temperature</label
            >
            <input
              name="temperature"
              id="temperature"
              type="text"
              class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white focus:outline-none"
              required
            />
          </div>
          <div>
            <label for="humidity" class="block mb-1 font-medium"
              >Humidity</label
            >
            <input
              name="humidity"
              id="humidity"
              type="text"
              class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white focus:outline-none"
              required
            />
          </div>
          <div>
            <label for="rainfall" class="block mb-1 font-medium"
              >Rainfall</label
            >
            <input
              name="rainfall"
              id="rainfall"
              type="text"
              class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white focus:outline-none"
              required
            />
          </div>
          <div>
            <label for="N" class="block mb-1 font-medium">Nitrogen (N)</label>
            <input
              name="N"
              id="N"
              type="text"
              class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white focus:outline-none"
              required
            />
          </div>
          <div>
            <label for="K" class="block mb-1 font-medium">Potassium (K)</label>
            <input
              name="K"
              id="K"
              type="text"
              class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white focus:outline-none"
              required
            />
          </div>
          <div>
            <label for="P" class="block mb-1 font-medium"
              >Phosphorous (P)</label
            >
            <input
              name="P"
              id="P"
              type="text"
              class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white focus:outline-none"
              required
            />
          </div>
          <div>
            <label for="ph" class="block mb-1 font-medium">pH</label>
            <input
              name="ph"
              id="ph"
              type="text"
              class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white focus:outline-none"
              required
            />
          </div>
          <div class="md:col-span-2 flex justify-center mt-8">
            <button
              type="submit"
              class="bg-[#D6F267] text-gray-900 font-semibold px-8 py-2 rounded-2xl hover:bg-[#B9D93B]"
            >
              Get Prediction
            </button>
          </div>
        </form>
      </div>
    </section>

    <section id="result" class="w-full max-w-6xl mx-auto mt-20 mb-20 hidden">
      <h2 class="text-white text-3xl font-bold mb-10 text-center">
        Clustering Result
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div
          class="flex flex-col flex items-start bg-white/5 backdrop-blur-md border border-white/50 p-6 rounded-2xl text-white"
        >
          <h3 class="text-xl font-semibold mb-2">Soil Cluster</h3>
          <div class="w-full h-[1px] bg-white/50 mb-2"></div>
          <div class="flex flex-row">
            <div
              class="w-40 h-40 mr-6 overflow-hidden flex items-center justify-center"
            >
              <img
                id="predictedCropImage"
                src="{{ url_for('static', filename='assets/icons/soil.png') }}"
                alt="Soil Cluster"
                class="w-full h-full object-cover rounded-2xl border border-white"
              />
            </div>
            <div class="w-3/5">
              <div>
                <p
                  class="text-3xl font-bold leading-relaxed"
                  id="predictedLabel"
                >
                  - 
                </p>
              </div>
              <div>
                <p class="mt-1 text-sm" id="cropDescription">-</p>
              </div>
            </div>
          </div>
        </div>
        <div
          class="flex flex-col flex items-start bg-white/5 backdrop-blur-md border border-white/50 p-6 rounded-2xl text-white"
        >
          <h3 class="text-xl font-semibold mb-2">Fertility Score</h3>
          <div class="w-full h-[1px] bg-white/50 mb-2"></div>
          <div class="flex flex-row">
            <div
              class="w-40 h-40 mr-6 overflow-hidden flex items-center justify-center"
            >
              <img
                id="predictedScoreImage"
                src="{{ url_for('static', filename='assets/icons/fertilizer.png') }}"
                alt="Predicted Crop"
                class="w-full h-full object-cover rounded-2xl border border-white"
              />
            </div>
            <div class="w-3/5">
              <div>
                <p
                  class="text-3xl font-bold leading-relaxed"
                  id="fertilityScore"
                >
                  - 
                </p>
              </div>
              <div>
                <p class="mt-1" id="fertilityCategory">-</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div
      id="infoPopup"
      class="fixed inset-0 bg-black bg-opacity-60 z-50 hidden flex items-center justify-center"
    >
      <div
        class="bg-white/10 backdrop-blur-lg border border-white/50 p-4 m-4 rounded-2xl w-full max-w-lg sm:max-w-2xl text-white overflow-y-auto max-h-[90vh]"
      >
        <h3
          class="text-2xl font-semibold text-center text-white mb-6 border-b pb-2"
        >
          General range for your reference
        </h3>
        <div class="flex flex-col sm:flex-row text-white justify-center gap-8 sm:gap-16">
          <div class="flex flex-col gap-4">
            <div class="text-center">
              <p class="font-semibold text-lg">Temperature:</p>
              <p>15 - 48</p>
            </div>
            <div class="text-center">
              <p class="font-semibold text-lg">Humidity:</p>
              <p>20 - 100</p>
            </div>
            <div class="text-center">
              <p class="font-semibold text-lg">Rainfall:</p>
              <p>100 - 300</p>
            </div>
          </div>
          <div class="flex flex-col gap-4">
            <div class="text-center">
              <p class="font-semibold text-lg">Phosphorous (P):</p>
              <p>10 - 100</p>
            </div>
            <div class="text-center">
              <p class="font-semibold text-lg">Potassium (K):</p>
              <p>10 - 100</p>
            </div>
            <div class="text-center">
              <p class="font-semibold text-lg">Nitrogen (N):</p>
              <p>50 - 150</p>
            </div>
          </div>
          <div class="flex flex-col gap-4">
            <div class="text-center">
              <p class="font-semibold text-lg">Potential Hydrogen</p>
              <p class="font-semibold text-lg">(pH):</p>
              <p>4 - 8</p>
            </div>
          </div>
        </div>
        <div class="flex justify-end mt-4">
          <button
            id="closePopup"
            class="bg-[#D6F267] text-gray-900 font-semibold px-4 py-2 rounded-2xl hover:bg-[#B9D93B] transition"
          >
            Close
          </button>
        </div>
      </div>
    </div>



    <footer class="text-center text-white py-6">
      <p>2025 SoilSense. All rights reserved.</p>
    </footer>
    <script src="{{ url_for('static', filename='js/result.js') }}"></script>
  </body>
</html>
